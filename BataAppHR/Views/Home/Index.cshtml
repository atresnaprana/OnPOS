@model IEnumerable<BataAppHR.Models.dbSliderImg>
@{
    ViewData["Title"] = "Dashboard";
    var date = DateTime.Now;
    var datenowstr = date.ToString("dddd, dd MMMM yyyy");
}

<div class="hero-section">
    <!-- Slideshow (Optional: only if you have images) -->
    @if (Model != null && Model.Any())
    {
        <div class="slideshow-container">
            @foreach (var dt in Model)
            {
                <div class="mySlides fade">
                    <img src="@dt.imgUrl" style="width:100%; height:300px; object-fit:cover;">
                </div>
            }
        </div>
    }

    <div class="hero-card">
        <h1 class="welcome-title">Selamat datang di OnPos!</h1>
        <p class="text-muted">Kelola transaksi dan inventaris Anda dengan lebih mudah hari ini.</p>
        <div class="date-badge">
            <i class="far fa-calendar-alt me-2"></i>
            <span id="dateTxt">@datenowstr</span>
            <span class="mx-2">|</span>
            <i class="fas fa-hashtag me-1"></i> Week @ViewBag.WeekNumber
        </div>
    </div>
    @if (User.Identity.IsAuthenticated)
    {
        <div class="action-grid">
            <a href="/Transactions/Create" class="action-item">
                <!-- Icon Updated -->
                <i class="fa-solid fa-cash-register fa-2x mb-3 text-primary"></i>
                <h5>Kasir</h5>
                <p class="small text-muted mb-0">Input penjualan baru</p>
            </a>
            <a href="/Products" class="action-item">
                <!-- Icon Updated to a more suitable one -->
                <i class="fa-solid fa-box-archive fa-2x mb-3 text-success"></i>
                <h5>Inventaris</h5>
                <p class="small text-muted mb-0">Kelola stok barang</p>
            </a>
            <a href="/Reports" class="action-item">
                <!-- Icon Updated to a more suitable one -->
                <i class="fa-solid fa-chart-pie fa-2x mb-3 text-info"></i>
                <h5>Laporan</h5>
                <p class="small text-muted mb-0">Analisa pendapatan</p>
            </a>
            <a href="/Settings" class="action-item">
                <!-- Icon Updated to the modern version of 'cog' -->
                <i class="fa-solid fa-gear fa-2x mb-3 text-secondary"></i>
                <h5>Pengaturan</h5>
                <p class="small text-muted mb-0">Konfigurasi toko</p>
            </a>
        </div>

    }
    else
    {

        <div class="call-to-action">
            <h2>Mulai Kelola Bisnis Anda</h2>
            <p class="text-muted">Silakan masuk untuk mengakses dashboard atau daftar jika Anda pengguna baru.</p>
            <div>
                <!-- ** Corrected Button Classes ** -->
                <a href="/Identity/Account/Login" class="btn btn-outline-primary btn-lg">Login</a>
                <a href="/Identity/Account/Register" class="btn btn-primary btn-lg">Daftar Sekarang</a>
            </div>
        </div>
    }
    <!-- NEW: Quick Actions Grid -->
    
</div>

@section Scripts {
    <script>
        // Standard Slideshow Logic
        var slideIndex = 0;
        showSlides();
        function showSlides() {
            var i;
            var slides = document.getElementsByClassName("mySlides");
            if (slides.length == 0) return;
            for (i = 0; i < slides.length; i++) { slides[i].style.display = "none"; }
            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1 }
            slides[slideIndex - 1].style.display = "block";
            setTimeout(showSlides, 5000);
        }
    </script>
}